1
2
+
.

[
 1
 2
 3
 4
 5
 6
 7
 9
 10
]
DO
.
SWAP
Array:Iterate

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   FILE VAR l_File
   anItem
   .
   TRY
   FINALLY
    nil
    l_File
    pop:Word:SetValue
   END
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   FILE VAR l_File
   anItem
   .
   TRY
   FINALLY
    nil
    l_File
    pop:Word:SetValue
   END
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   FILE VAR l_File
   anItem
   .
   TRY
   FINALLY
    nil
    l_File
    pop:Word:SetValue
   END
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.dpr'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   FILE VAR l_File
   anItem
   .
   (
    anItem
    File:OpenRead
   )
   l_File
   pop:Word:SetValue
   TRY
   FINALLY
    nil
    l_File
    pop:Word:SetValue
   END
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.dpr'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   FILE VAR l_File
   anItem
   .
   anItem
   File:OpenRead
   l_File
   pop:Word:SetValue
   TRY
   FINALLY
    nil
    l_File
    pop:Word:SetValue
   END
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.dpr'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   FILE VAR l_File
   anItem
   .
   anItem
   File:OpenRead
   l_File
   pop:Word:SetValue
   TRY
    l_File
    File:ReadLines
    (
     STRING IN aString
     aString
     .
    )
   FINALLY
    nil
    l_File
    pop:Word:SetValue
   END
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.dpr'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

VOID Test ForToTest
 ARRAY OPERATOR to
  ^@ IN aFrom
  ^ IN aTo
  @
  (
   OBJECT IN aLambda
   INTEGER VAR I
   (
    aFrom
    DO
   )
   I
   pop:Word:SetValue
   DEC
   I
   (
    aTo
    DO
    I
   )
   -
   LOOP
   (
    INC
    I
    I
    aLambda
    DO
   )
  )
  Array:FunctorToIterator
  Result
  pop:Word:SetValue
 ; // ARRAY OPERATOR to
 
 (
  1 to
  10
 )
 DO
 .
 SWAP
 Array:Iterate
 ''
 .
 (
  1 to
  20
 )
 DO
 .
 SWAP
 Array:Iterate
 ''
 .
 (
  0 to
  20
 )
 DO
 .
 SWAP
 Array:Iterate
 ''
 .
 (
  -1 to
  20
 )
 DO
 .
 SWAP
 Array:Iterate
 ''
 .
 (
  -1 to
  21
 )
 DO
 .
 SWAP
 Array:Iterate
 ''
 .
 0
 (
  1 to
  10
 )
 DO
 +
 SWAP
 Array:Iterate
 .
 ''
 .
 (
  1 to
  10
  Array:Reverted
 )
 DO
 .
 SWAP
 Array:Iterate
; // VOID Test ForToTest

ForToTest

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.dpr'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.ms.dict'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.pas'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.txt'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.inc'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.fmx'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.xml'
  anItem
  ProcessFilesWithMask
  @
  DoFile
  '*.dpr'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   @
   DoFile
   aMask
   anItem
   ProcessFilesWithMask
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
VOID PROCEDURE IterateFilesWithMask
 ^ IN aDir
 ^ IN aLambda
 ^ IN aMask
 aLambda
 aMask
 DO
 aDir
 DO
 ProcessFilesWithMask
; // VOID PROCEDURE IterateFilesWithMask

: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   anItem
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   anItem
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   anItem
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
VOID PROCEDURE IterateDirs
 ^ IN aLabda
 ^ IN aRoot
 aLabda
 aRoot
 DO
 ProcessSubDirs
; // VOID PROCEDURE IterateDirs

: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   anItem
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  IterateDirs
  anItem
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   anItem
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  IterateDirs
  anItem
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   anItem
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  IterateDirs
  anItem
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN aDir
  : DoFile
   STRING IN anFilePath
   anFilePath
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN aDir
  aDir
  DoDir
  IterateDirs
  aDir
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

(
 1 to
 20
)
DO
.
SWAP
Array:Iterate

: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN aDir
  : DoFile
   STRING IN anFilePath
   anFilePath
   .
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN aDir
  aDir
  DoDir
  IterateDirs
  aDir
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

VOID PROCEDURE PrintThis
 ^ IN aValue
 aValue
 DO
 .
; // VOID PROCEDURE PrintThis

: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN aDir
  : DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN aDir
  aDir
  DoDir
  IterateDirs
  aDir
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN aDir
  : DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // : DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // : DoDir
 
 : ProcessItem
  STRING IN aDir
  aDir
  DoDir
  IterateDirs
  aDir
  ProcessItem
 ; // : ProcessItem
 
 aDir
 ProcessItem
; // : Process

'..\..\'
Process

VOID PROCEDURE Process
 FORWARD ProcessItem
 STRING IN aDir
 VOID PROCEDURE DoDir
  STRING IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  aDir
  DoDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 ProcessItem
; // VOID PROCEDURE Process

'..\..\'
Process

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 STRING IN aDir
 VOID PROCEDURE DoDir
  STRING IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  aDir
  DoDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 ProcessItem
; // VOID PROCEDURE ProcessDirs

'..\..\'
ProcessDirs

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 STRING IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   (
    aDir
    DO
   )
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 ProcessItem
; // VOID PROCEDURE ProcessDirs

'..\..\'
ProcessDirs

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 STRING IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   (
    aDir
    DO
   )
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 ProcessItem
; // VOID PROCEDURE ProcessDirs

'..\..\'
ProcessDirs

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 STRING IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 ProcessItem
; // VOID PROCEDURE ProcessDirs

'..\..\'
ProcessDirs

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

IMMEDIATE VOID OPERATOR ^
 TtfwWordModifier::tfw_wmRightWordRef
 Ctx:IncludeModifier
; // IMMEDIATE VOID OPERATOR ^

ProcessDirs
'..\..\'

(
 @
 (
  IN anItem
  true
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

IMMEDIATE VOID OPERATOR RightParam
 'RIGHT'
 Ctx:Parser:PushSymbol
 'IN'
 Ctx:Parser:PushSymbol
; // IMMEDIATE VOID OPERATOR RightParam

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 : ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // : ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

IMMEDIATE VOID OPERATOR RecurseProc
 ^L IN aName
 'FORWARD'
 Ctx:Parser:PushSymbol
 aName
 |N
 Ctx:Parser:PushSymbol
 ':'
 Ctx:Parser:PushSymbol
 aName
 |N
 Ctx:Parser:PushSymbol
; // IMMEDIATE VOID OPERATOR RecurseProc

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

(
 0 to
 sysutils:ParamCount
)
DO
.
SWAP
Array:Iterate

(
 0 to
 sysutils:ParamCount
)
DO
(
 sysutils:ParamStr
 .
)
SWAP
Array:Iterate

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
 ProcessDirs
 DumpElement
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

0
(
 @
 (
  IN anItem
  true
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
+
SWAP
Array:Iterate
.

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
 ProcessDirs
 DumpElement
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  ProcessItem
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
 ProcessDirs
 DumpElement
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 FORWARD ProcessItem
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    OPERATOR
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
 ProcessDirs
 DumpElement
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
  ]
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 ARRAY IN aMaskArray
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  aMaskArray
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]
ProcessDirs
'..\..\'

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 ^ IN aMaskArray
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   PrintThis
   anFilePath
  ; // VOID PROCEDURE DoFile
  
  (
   aMaskArray |^
  )
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 FUNCTOR IN aLambda
 ^ IN aMaskArray
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   anFilePath
   aLambda
   DO
  ; // VOID PROCEDURE DoFile
  
  (
   aMaskArray |^
  )
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

@
.
ProcessDirs
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 ^ IN aLambda
 ^ IN aMaskArray
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   anFilePath
   aLambda
   pop:Word:GetRef
   DO
  ; // VOID PROCEDURE DoFile
  
  (
   aMaskArray |^
  )
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]
.

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 ^ IN aLambda
 ^ IN aMaskArray
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   anFilePath
   aLambda
   pop:Word:GetRef
   DO
  ; // VOID PROCEDURE DoFile
  
  (
   aMaskArray |^
  )
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]
.

(
 @
 (
  IN anItem
  anItem
  2
  MOD
  0
  ==
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

VOID PROCEDURE ProcessDirs
 ^ IN aDir
 ^ IN aLambda
 ^ IN aMaskArray
 VOID PROCEDURE DoDir
  ^ IN aDir
  VOID PROCEDURE DoFile
   STRING IN anFilePath
   anFilePath
   aLambda |@
   DO
  ; // VOID PROCEDURE DoFile
  
  (
   aMaskArray |^
  )
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // VOID PROCEDURE DoDir
 
 VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // VOID PROCEDURE ProcessItem
 
 aDir
 DO
 ProcessItem
; // VOID PROCEDURE ProcessDirs

ProcessDirs
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]
.

VOID PROCEDURE ProcessSubDirsWithMasks
 ^ IN aLambda
 ^ IN aMaskArray
 ^ IN aRoot
 PRIVATE VOID PROCEDURE DoDir
  ^ IN aDir
  PRIVATE VOID PROCEDURE DoFile
   STRING IN anFilePath
   anFilePath
   aLambda |@
   DO
  ; // PRIVATE VOID PROCEDURE DoFile
  
  (
   aMaskArray |^
  )
  DO
  (
   STRING IN aMask
   IterateFilesWithMask
   aDir
   aMask
   DoFile
  )
  SWAP
  Array:Iterate
 ; // PRIVATE VOID PROCEDURE DoDir
 
 PRIVATE VOID PROCEDURE ProcessItem
  STRING IN aDir
  DoDir
  aDir
  IterateDirs
  aDir
  (
   (
    ProcessItem
    DO
   )
  )
 ; // PRIVATE VOID PROCEDURE ProcessItem
 
 aRoot
 DO
 ProcessItem
; // VOID PROCEDURE ProcessSubDirsWithMasks

ProcessSubDirsWithMasks
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]
.

ProcessSubDirsWithMasks
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
]
.

ProcessSubDirsWithMasks
'..\..\'
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]
.

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ProcessSubDirsWithMasks
 '..\..\'
 [
  '*.ms.script'
  '*.ms.dict'
  '*.pas'
  '*.txt'
  '*.inc'
  '*.fmx'
  '*.xml'
  '*.dpr'
  '*.co'
 ]
 .
 ProcessSubDirsWithMasks
 '..\'
 [
  '*.ms.script'
  '*.ms.dict'
  '*.pas'
  '*.txt'
  '*.inc'
  '*.fmx'
  '*.xml'
  '*.dpr'
  '*.co'
 ]
 .
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

ProcessAnySubDirsWithMasks

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ARRAY IN aDirMasks
 aDirMasks
 DO
 (
  STRING IN aDirMask
  ProcessSubDirsWithMasks
  aDirMask
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
   '*.co'
  ]
  .
 )
 SWAP
 Array:Iterate
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

[
 '..\..\'
 '..\'
]
ProcessAnySubDirsWithMasks

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ^ IN aDirMasks
 (
  aDirMasks |^
 )
 DO
 (
  STRING IN aDirMask
  ProcessSubDirsWithMasks
  aDirMask
  [
   '*.ms.script'
   '*.ms.dict'
   '*.pas'
   '*.txt'
   '*.inc'
   '*.fmx'
   '*.xml'
   '*.dpr'
   '*.co'
  ]
  .
 )
 SWAP
 Array:Iterate
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
]

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ^ IN aDirMasks
 ARRAY IN aFileMasks
 (
  aDirMasks |^
 )
 DO
 (
  STRING IN aDirMask
  ProcessSubDirsWithMasks
  aDirMask
  aFileMasks
  .
 )
 SWAP
 Array:Iterate
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]
ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
]

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ^ IN aDirMasks
 ^ IN aFileMasks
 (
  aDirMasks |^
 )
 DO
 (
  STRING IN aDirMask
  ProcessSubDirsWithMasks
  aDirMask
  (
   aFileMasks |^
  )
  .
 )
 SWAP
 Array:Iterate
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
]
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ^ IN aDirMasks
 ^ IN aFileMasks
 ^ IN aLambda
 (
  aDirMasks |^
 )
 DO
 (
  STRING IN aDirMask
  ProcessSubDirsWithMasks
  aDirMask
  (
   aFileMasks |^
  )
  (
   STRING IN aFile
   aFile
   aLambda |@
   DO
  )
 )
 SWAP
 Array:Iterate
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
]
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]
.

(
 @
 (
  IN anItem
  anItem
  2
  MOD
  0
  !=
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

VOID PROCEDURE ProcessAnySubDirsWithMasks
 ^ IN aDirMasks
 ^ IN aFileMasks
 ^ IN aLambda
 (
  aDirMasks |^
 )
 DO
 (
  STRING IN aDirMask
  ProcessSubDirsWithMasks
  aDirMask
  (
   aFileMasks |^
  )
  (
   aLambda |@
   DO
  )
 )
 SWAP
 Array:Iterate
; // VOID PROCEDURE ProcessAnySubDirsWithMasks

ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
]
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]
.

ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
]
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]
.

ProcessAnySubDirsWithMasks
[
 '..\..\'
 '..\'
 '.'
]
[
 '*.ms.script'
 '*.ms.dict'
 '*.pas'
 '*.txt'
 '*.inc'
 '*.fmx'
 '*.xml'
 '*.dpr'
 '*.co'
]
.

BOOLEAN FUNCTION IsEven
 INTEGER IN aValue
 aValue
 2
 MOD
 0
 ==
 Result
 pop:Word:SetValue
; // BOOLEAN FUNCTION IsEven

(
 @
 (
  IN anItem
  anItem
  IsEven
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

BOOLEAN FUNCTION IsEven
 INTEGER IN aValue
 aValue
 2
 MOD
 0
 ==
 Result
 pop:Word:SetValue
; // BOOLEAN FUNCTION IsEven

BOOLEAN FUNCTION IsOdd
 INTEGER IN aValue
 aValue
 IsEven
 !
 Result
 pop:Word:SetValue
; // BOOLEAN FUNCTION IsOdd

(
 @
 (
  IN anItem
  anItem
  IsOdd
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

(
 @
 (
  IN anItem
  anItem
  IsOdd
 )
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

1
2
+
Msg

(
 @
 IsOdd
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

ARRAY Array:Filter
(
 @
 IsOdd
 (
  1 to
  20
 )
 Array:Filter
)
DO
.
SWAP
Array:Iterate

ARRAY FUNCTION >filter>
 ^ IN aFunctor
 ARRAY IN anArray
 aFunctor
 anArray
 Array:Filter
 Result
 pop:Word:SetValue
; // ARRAY FUNCTION >filter>

ARRAY Array:Filter
(
 (
  1 to
  20
 )
 >filter>
 IsOdd
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 (
  1 to
  20
 )
 >filter>
 IsEven
)
DO
.
SWAP
Array:Iterate

ARRAY FUNCTION >filter>
 ^ IN aFunctor
 ^@ IN anArray
 aFunctor
 anArray
 DO
 Array:Filter
 Result
 pop:Word:SetValue
; // ARRAY FUNCTION >filter>

ARRAY Array:Filter
(
 ( to >filter>
 IsOdd
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter>
 IsEven
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter>
 IsOdd
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter>
 IsEven
)
DO
.
SWAP
Array:Iterate

REDIFINITION : .
 >>std::out
; // REDIFINITION : .

(
 ( to >filter>
 IsOdd
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter>
 IsEven
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter>
 IsOdd
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter>
 IsEven
)
DO
.
SWAP
Array:Iterate

(
 @
 (
  IN anItem
  anItem
  1
  +
 )
 ( to >filter>
 IsOdd
 Array:Map
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 @
 (
  IN anItem
  anItem
  1
  +
 )
 ( to >filter>
 IsEven
 Array:Map
)
DO
.
SWAP
Array:Iterate

(
 @
 (
  1
  +
 )
 ( to >filter>
 IsOdd
 Array:Map
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 @
 (
  1
  +
 )
 ( to >filter>
 IsEven
 Array:Map
)
DO
.
SWAP
Array:Iterate

@
(
 1
 +
)
( to >filter>
IsOdd
Array:Map
.
'-------------------'
.
@
(
 1
 +
)
( to >filter>
IsEven
Array:Map
.

[
 1
 2
 3
 4
 5
]
.

ARRAY Array:Map
(
 @
 (
  1
  +
 )
 ( to >filter>
 IsOdd
 Array:Map
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 @
 (
  1
  +
 )
 ( to >filter>
 IsEven
 Array:Map
)
DO
.
SWAP
Array:Iterate

ARRAY FUNCTION >map>
 ^ IN aFunctor
 ^@ IN anArray
 aFunctor
 anArray
 DO
 Array:Map
 Result
 pop:Word:SetValue
; // ARRAY FUNCTION >map>

ARRAY Array:Map
(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
)
DO
.
SWAP
Array:Iterate

( to >filter> IsOdd >map>
(
 1
 +
)
.
'-------------------'
.
( to >filter> IsEven >map>
(
 1
 +
)
.

(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

ARRAY Array:Reverted
ARRAY Array:Reverted
(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

USES
(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

USES
(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 (
  1
  +
 )
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

Ctx:PrintDictionaries

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
'-------------------'
.
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

@
(
 IN anItem
 true
)
[
 1
 2
 3
 4
 5
]
Array:Filter
.

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate

(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 Inc1
 Array:Reverted
)
.
разделитель
числа
(
 ( to >filter> IsEven >map>
 Inc1
 Array:Reverted
)
.
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
.
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
.
разделитель

@
(
 IN anItem
 true
)
[
 1
 2
 3
 4
 5
]
Array:Filter
.
SWAP
Array:Iterate

числа
(
 ( to >filter> IsOdd >map>
 IncWith
 1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 IncWith
 1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 Dec1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

числа
(
 ( to >filter> IsOdd >map>
 IncWith
 1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 IncWith
 1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsOdd >map>
 DecWith
 1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель
числа
(
 ( to >filter> IsEven >map>
 DecWith
 1
 Array:Reverted
)
DO
.
SWAP
Array:Iterate
разделитель

'Size: '
1024
IntToStr
Cat
.

[
 'Size: '
 1024
 IntToStr
 ' bytes'
]
strings:Cat
.

STRING FUNCTION any:Cat
 ARRAY IN anArray
 ''
 anArray
 (
  ToPrintable
  Cat
 )
 SWAP
 Array:Iterate
 Result
 pop:Word:SetValue
; // STRING FUNCTION any:Cat

[
 'Size: '
 1024
 ' bytes'
]
any:Cat
.

STRING FUNCTION any:Cat
 ARRAY IN anArray
 ''
 anArray
 string:CatWihAny
 SWAP
 Array:Iterate
 Result
 pop:Word:SetValue
; // STRING FUNCTION any:Cat

STRING FUNCTION string:CatWihAny
 STRING IN aString
 IN aValue
 aString
 aValue
 ToPrintable
 Cat
 Result
 pop:Word:SetValue
; // STRING FUNCTION string:CatWihAny

[
 'Size: '
 1024
 ' bytes'
]
any:Cat
.

STRING FUNCTION any:Cat
 ARRAY IN anArray
 ''
 anArray
 DO
 string:CatWihAny
 SWAP
 Array:Iterate
 Result
 pop:Word:SetValue
; // STRING FUNCTION any:Cat

STRING FUNCTION string:CatWihAny
 STRING IN aString
 IN aValue
 aString
 aValue
 ToPrintable
 Cat
 Result
 pop:Word:SetValue
; // STRING FUNCTION string:CatWihAny

[
 'Size: '
 1024
 ' bytes'
]
any:Cat
.

'Size: '
(+)
(
 1024
 ToPrintable
)
(+)
' bytes'
.

: (string)
 ^ IN aValue
 aValue
 DO
 ToPrintable
; // : (string)

'Size: '
(+)
(string)
1024
(+)
' bytes'
.

'Size: '
(+)
(string)
1024
(+)
' bytes'
.

A
.

[
 'Size: '
 1024
 ' bytes'
]
any:Cat
.

[
 'Size: '
 1024
 ' bytes.'
 ' And it's '
 true
]
any:Cat
.

TRY
 'Line too long'
 RAISE
EXCEPT
 current:exception:Message
 .
END

TRY
 'got here'
 .
 EXIT
 'not here'
 .
FINALLY
 'always here'
 .
END

ORDINAL VAR A
COMPARABLE VAR B
STRING VAR C
INTEGER VAR D
@
A
|N
.
@
A
%ST
|N
.
@
A
pop:Word:Directives
.
разделитель
@
B
|N
.
@
B
%ST
|N
.
@
B
pop:Word:Directives
.
разделитель
@
C
|N
.
@
C
%ST
|N
.
@
C
pop:Word:Directives
.
разделитель
@
D
|N
.
@
D
%ST
|N
.
@
D
pop:Word:Directives
.

[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
.

VOID Test CodeDumpTest
 [
  1
  2
  3
  [
   4
   5
   [
    6
    7
    8
   ]
   9
  ]
  10
 ]
 .
 CodeDumpTest
 DumpElement
; // VOID Test CodeDumpTest

CodeDumpTest

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
)
DumpElement

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement

@
.
'*.ms.script'
'.'
ProcessFilesWithMask

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  (
   6
   7
   8
  )
  9
 )
 10
)
DumpElement

@
DumpCode
'*.ms.script'
'.'
ProcessFilesWithMask

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  (
   6
   7
   8
  )
  9
 )
 10
)
DumpElement
@
(
 VAR X
)
DumpElement

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  (
   6
   7
   8
  )
  9
 )
 10
)
DumpElement
@
(
 VAR X
)
DumpElement
@
(
 INTEGER VAR X
)
DumpElement

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  (
   6
   7
   8
  )
  9
 )
 10
)
DumpElement
@
(
 VAR X
)
DumpElement
@
(
 INTEGER VAR X
)
DumpElement
@
(
 STRING VAR X
)
DumpElement
@
(
 BOOLEAN VAR X
)
DumpElement

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  (
   6
   7
   8
  )
  9
 )
 10
)
DumpElement
@
(
 VAR X
)
DumpElement
@
(
 INTEGER VAR X
)
DumpElement
@
(
 STRING VAR X
)
DumpElement
@
(
 BOOLEAN VAR X
)
DumpElement
@
(
 ATOMIC VAR X
)
DumpElement
@
(
 ORDINAL VAR X
)
DumpElement
@
(
 COMPARABLE VAR X
)
DumpElement

@
[
 1
 2
 3
 [
  4
  5
  [
   6
   7
   8
  ]
  9
 ]
 10
]
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  [
   6
   7
   8
  ]
  9
 )
 10
)
DumpElement
@
(
 1
 2
 3
 (
  4
  5
  (
   6
   7
   8
  )
  9
 )
 10
)
DumpElement
@
(
 VAR X
)
DumpElement
@
(
 INTEGER VAR X
)
DumpElement
@
(
 STRING VAR X
)
DumpElement
@
(
 BOOLEAN VAR X
)
DumpElement
@
(
 ATOMIC VAR X
)
DumpElement
@
(
 ORDINAL VAR X
)
DumpElement
@
(
 COMPARABLE VAR X
)
DumpElement
@
(
 OBJECT VAR X
)
DumpElement
@
(
 INTERFACE VAR X
)
DumpElement

@
.
'.'
ProcessSubDirs

@
.
'..'
ProcessSubDirs

: Process
 STRING IN aDir
 aDir
 ProcessSubDirs
; // : Process

@
.
'..'
Process

@
.
'*.ms.script.co'
'.'
ProcessFilesWithMask

: Process
 STRING IN aDir
 TtfwWord IN aLambda
 aLambda
 aDir
 ProcessSubDirs
; // : Process

@
.
'..'
Process

FORWARD Process
: Process
 STRING IN aDir
 TtfwWord IN aLambda
 aLambda
 aDir
 ProcessSubDirs
; // : Process

@
.
'..'
Process

FORWARD Process
: Process
 STRING IN aDir
 TtfwWord IN aLambda
 : ProcessItem
  STRING IN anItem
  anItem
  aLambda
  DO
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

@
.
'..'
Process

FORWARD Process
: Process
 STRING IN aDir
 TtfwWord IN aLambda
 : ProcessItem
  STRING IN anItem
  anItem
  aLambda
  DO
  aLambda
  anItem
  Process
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

@
.
'..'
Process

FORWARD Process
: Process
 STRING IN aDir
 TtfwWord IN aLambda
 : ProcessItem
  STRING IN anItem
  anItem
  aLambda
  DO
  aLambda
  anItem
  Process
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

@
.
'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : ProcessItem
  STRING IN anItem
  anItem
  .
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : ProcessItem
  STRING IN anItem
  anItem
  .
  @
  .
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : ProcessItem
  STRING IN anItem
  @
  .
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoFile
  STRING IN anItem
  anItem
  .
 ; // : DoFile
 
 : ProcessItem
  STRING IN anItem
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

FORWARD Process
: Process
 FORWARD ProcessItem
 STRING IN aDir
 : DoDir
  STRING IN anItem
  : DoFile
   STRING IN anItem
   anItem
   .
  ; // : DoFile
  
  @
  DoFile
  '*.ms.script'
  anItem
  ProcessFilesWithMask
 ; // : DoDir
 
 : ProcessItem
  STRING IN anItem
  anItem
  DoDir
  @
  ProcessItem
  anItem
  ProcessSubDirs
 ; // : ProcessItem
 
 @
 ProcessItem
 aDir
 ProcessSubDirs
; // : Process

'..\..\'
Process

